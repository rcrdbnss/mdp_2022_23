<!DOCTYPE html>
<!-- saved from url=(0053)https://olj.ing.unimore.it/exam/361/exercise/view/947 -->
<html lang="it"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="./Z85rot_files/js"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-JHGNYN9YCB');
    </script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="./Z85rot_files/themes.css">
    <link rel="shortcut icon" href="https://olj.ing.unimore.it/static/oljApp/imgs/olj_logo_squared.png">
    <link rel="stylesheet" href="./Z85rot_files/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="./Z85rot_files/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="./Z85rot_files/jquery-3.4.1.min.js.download" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="./Z85rot_files/popper.min.js.download" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="./Z85rot_files/bootstrap.min.js.download" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
    
    
    <link rel="stylesheet" href="./Z85rot_files/editormd.preview.css">
    
    
    <link type="text/css" rel="stylesheet" href="./Z85rot_files/katex.min.css">
    <script id="-cdnjs-cloudflare-com-ajax-libs-KaTeX-0-11-1-katex-min" type="text/javascript" src="./Z85rot_files/katex.min.js.download"></script>


    <title> Z85rot </title>
    
    <script>
        // Script to set/check cookies for "storing" user choices on alerts
        function showWhenRequired(id) {
            if (display(id)) {
                $("#" + id).show()
            }
        }

        function setCookie(cname, cvalue) {
            let exdate = new Date();
            exdate.setDate(exdate.getDate() + 5);
            document.cookie = cname + "=" + cvalue + "; expires=" + exdate.toUTCString() + ";path=/; SameSite=None; Secure";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function display(cname) {
            var display = getCookie(cname);
            return (display === null || display === ""); // If null we have to display the alert
        }
    </script>
</head>

<body class="light-theme" style="padding-top: 90px; padding-bottom: 60px;">
<div class="container">
    



<nav id="navbar" class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <div class="navbar-brand">
            <a href="https://olj.ing.unimore.it/">
                <img src="./Z85rot_files/olj_logo.png" alt="olj" style="max-height:50px;"></a>
        </div>

        <a class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                
                <a class="nav-link active" href="https://olj.ing.unimore.it/course/3"> Multimedia Data Processing </a> 
                
                    <li class="nav-item dropdown">
                        <a class="dropdown-toggle nav-link" href="https://olj.ing.unimore.it/exam/361/exercise/view/947#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Insegnamenti
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            
                                <a class="dropdown-item" href="https://olj.ing.unimore.it/course/3">Multimedia Data Processing</a>
                            
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="https://olj.ing.unimore.it/">Tutti gli Insegnamenti</a>
                        </div>
                    </li>
                
                
                    <a class="nav-link" href="https://olj.ing.unimore.it/quiz/course/3">Quiz <span class="sr-only">(current)</span></a>



            </ul>
            <ul class="navbar-nav ml-auto">

                
                
                
                <!--Available Languages [(&#x27;en&#x27;, &#x27;Inglese&#x27;), (&#x27;it&#x27;, &#x27;Italiano&#x27;)] -->
                <li class="nav-item dropdown show">
                    <a class="nav-link" href="https://olj.ing.unimore.it/exam/361/exercise/view/947#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img width="15px" src="./Z85rot_files/it.png">
                        &nbsp; <span class="caret"></span></a>
                    <div id="language-list" class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                        
                            <a class="dropdown-item" href="https://olj.ing.unimore.it/i18n/setlang/" data-language-code="en">
                                <img width="15px" src="./Z85rot_files/en.png">
                                Inglese
                                &nbsp;&nbsp;
                            </a>
                        
                            <a class="dropdown-item" href="https://olj.ing.unimore.it/i18n/setlang/" data-language-code="it">
                                <img width="15px" src="./Z85rot_files/it.png">
                                Italiano
                                âœ“
                            </a>
                        
                    </div>
                </li>

                <li class="nav-item dropdown show">
                    
                        <a class="dropdown-toggle nav-link" href="https://olj.ing.unimore.it/profile/" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-user" aria-hidden="true"></i> Riccardo Benassi
                            
                                (241673)
                            
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                            <a class="dropdown-item" href="https://olj.ing.unimore.it/profile/">Profilo</a>
                            <a class="dropdown-item" href="https://olj.ing.unimore.it/accounts/logout/">Logout</a>
                        </div>
                    
                </li>
            </ul>
        </div>
    </div>
</nav>

<style>
    #navbar {
        font-size: large;
        background-color: #ECECEC;
    }
</style>
    <div class="extend row justify-content-center">
        <div class="col-12">
            
                <h1 class="mt-2"> Z85rot
    <a type="button" href="https://olj.ing.unimore.it/exercise/submit/947/exam/361/" class="btn btn-success float-right mr-1"><i class="fa fa-upload" aria-hidden="true"></i>
        Submit Solution</a>
    
</h1>
                <hr class="mt-0 mb-4">
            
            
            
    <div id="test-editormd-view" class="markdown-body editormd-html-preview">
        <p>A software house wants to be able to transfer color images as text or to insert them directly into their code (again as textual data). To this aim they decide to use the Z85 encoding, that is a well-defined base 85 data representation that does not use characters classically reserved for strings delimiters or escape codes. </p>
<p>However, wanting to provide an (unsafe) obfuscation mechanism, they decide to apply an encrypting mechanism which consists in rotating the 85 symbols by a certain number of positions <code>N</code> at each output of a symbol. Referring to the Z85 standard, for example if <code>N = 13</code>, the value 27 is encoded with the symbol <code>'r'</code> if it is the first to be generated, but it is encoded with <code>'e'</code> if it is the second, with <code>'1'</code> if it is the third, with <code>'&lt;'</code> if it is the fourth, and so on.</p>
<p>Create a command line program that accepts the following syntax:</p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pln">Z85rot </span><span class="pun">{</span><span class="pln">c </span><span class="pun">|</span><span class="pln"> d</span><span class="pun">}</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">input file</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">output file</span><span class="pun">&gt;</span></code></li></ol></pre><p>The program, when executed with the first parameter equal to 'c' command accepts as input a file in PPM format and outputs a text file formatted as </p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="tag">&lt;width</span><span class="pln"> </span><span class="atn">in</span><span class="pln"> </span><span class="atn">ASCII</span><span class="pln"> </span><span class="atn">base</span><span class="pln"> </span><span class="atn">ten</span><span class="tag">&gt;</span></code></li><li class="L1"><code><span class="tag">&lt;comma&gt;</span></code></li><li class="L2"><code><span class="tag">&lt;height</span><span class="pln"> </span><span class="atn">in</span><span class="pln"> </span><span class="atn">ASCII</span><span class="pln"> </span><span class="atn">base</span><span class="pln"> </span><span class="atn">ten</span><span class="tag">&gt;</span></code></li><li class="L3"><code><span class="tag">&lt;comma&gt;</span></code></li><li class="L4"><code><span class="tag">&lt;image</span><span class="pln"> </span><span class="atn">pixels</span><span class="pln"> </span><span class="atn">encoded</span><span class="pln"> </span><span class="atn">with</span><span class="pln"> </span><span class="atn">Z85</span><span class="pln"> </span><span class="atn">and</span><span class="pln"> </span><span class="atn">rotations</span><span class="pln"> </span><span class="atn">of</span><span class="pln"> </span><span class="atn">N</span><span class="tag">&gt;</span></code></li></ol></pre><p>(there is no new line! It's just for visualization purposes)</p>
<p>Since the number of bytes to be encoded with Z85 must be a multiple of 4, if not the input is padded with bytes equal to zero.</p>
<p>Let's consider a 2x2 image with all red pixels:</p><p></p><p></p><p></p><p></p><br><table>
<tbody><tr><td>255,0,0</td><td>255,0,0</td></tr>
<tr><td>255,0,0</td><td>255,0,0</td></tr></tbody></table><p></p>
<p>In memory this is (hexadecimal): </p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="pln">FF </span><span class="lit">00</span><span class="pln"> </span><span class="lit">00</span><span class="pln"> FF </span><span class="lit">00</span><span class="pln"> </span><span class="lit">00</span><span class="pln"> FF </span><span class="lit">00</span><span class="pln"> </span><span class="lit">00</span><span class="pln"> FF </span><span class="lit">00</span><span class="pln"> </span><span class="lit">00</span></code></li></ol></pre><p>The first value to be encoded is FF0000FF, that is 4.278.190.335, in base 85 is 81,81,27,6,0, which with Z85 (without rotations) would become <code>@<a href="https://github.com/r60" title="@r60" class="at-link">@r60</a></code>, with a rotation of 1 it would become <code>@}p3@</code>.</p>
<p>The second value to be encoded is 00 00 FF 00, that is 65.280, in base 85 is 0,0,9,3,0, which with Z85 (without rotations) would become <code>00930</code>, with a rotation of 1 (continuing from the previous one) it would become <code>}{2})</code>.</p>
<p>The third value to be encoded is 00 FF 00 00, that is 16.711.680, in base 85 is 0,27,18,3,0, which with Z85 (without rotations) would become <code>0ri30</code>, with a rotation of 1 (continuing from the previous one) it would become <code>(g6(?</code>.</p>
<p>The image can thus be encoded as </p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,@</span><span class="lit">@r60009300ri30</span></code></li></ol></pre><p>without rotations, and as </p>
<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class="L0"><code><span class="lit">2</span><span class="pun">,</span><span class="lit">2</span><span class="pun">,@}</span><span class="pln">p3@</span><span class="pun">}{</span><span class="lit">2</span><span class="pun">})(</span><span class="pln">g6</span><span class="pun">(?</span></code></li></ol></pre><p>with a rotation of 1.</p>
    </div>
    

            <br class="mb-4">
        </div>
    </div>
</div>



<!-- Footer -->
<nav id="footer" class="navbar navbar-expand-lg navbar-light fixed-bottom">
    <div class="container">
        <div class="" style="horiz-align: left;">Powered by <a target="_blank" href="http://imagelab.ing.unimore.it/">
            <img src="./Z85rot_files/aimagelab.png" height="25" alt="AImageLab"></a>
        </div>
        <div class="" style="float: right !important;">
            Designed and Managed by <a href="http://federicobolelli.it/" target="_blank">F. Bolelli</a>, S. Allegretti
            and C. Grana
        </div>
    </div>
</nav>
<!-- Footer -->
<style>
    #footer {
        font-size: large;
        background-color: #ECECEC;
    
    }

    .container {
        max-width: 98%;
    }

    .custom-button {
        width: 200px !important;
        height: 200px !important;
        margin-right: 20px !important;
    }

    .btn-group-xs > .btn, .btn-xs {
        padding: .25rem .4rem;
        font-size: .875rem;
        line-height: .5;
        border-radius: .2rem;
    }

    /* Overrides list-group-item from Bootstrap */
    .list-group-item {
        background-color: transparent;
        padding: 3px 13px
    }

    /* Overrides list-group-item from Bootstrap */
    .teacher_block {
     background-color: #ffffff;
    }

    a:hover {
        text-decoration: none;
    }

    .mycontent-left {
        border-right: 1px dashed #333;
    }

    pre {
        white-space: pre-wrap;
        word-wrap: break-word;
    }

    /* Overrides default Editor.md code style */
    .editormd-preview-container code, .editormd-html-preview code {
        background-color: transparent;
        border: none;
        margin: 0;
        padding: 0;
        color: #A31515;
        border-radius: 0;
        box-sizing: content-box;
    }

    .editormd-preview-container p code, .editormd-html-preview p code {
        margin: 0;
    }

    .editormd-preview-container code::before, .editormd-html-preview code::before {
        content: "";
    }

    .editormd-preview-container code::after, .editormd-html-preview code::after {
        content: "";
    }

    /* Reduce font size in Editor.md formulas */
    .editormd-preview-container .katex, .editormd-html-preview .katex {
        font-size: 1.2em !important;
    }
</style>

<script type="text/javascript">
    $('#language-list a').on('click', function (event) {
        event.preventDefault();
        var target = $(event.target);
        var url = target.attr('href');
        var language_code = target.data('language-code');
        $.ajax({
            type: 'POST',
            url: url,
            data: {language: language_code},
            headers: {"X-CSRFToken": getCookie('csrftoken')}
        }).done(function (data, textStatus, jqXHR) {
            window.location.reload(true);
        });
    });
</script>
</body></html>